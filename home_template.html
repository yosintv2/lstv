<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{PAGE_TITLE}} | CricFootTV</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5525538810839147" crossorigin="anonymous"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        
        .weekly-nav { background: #002d56; display: flex; overflow-x: auto; scrollbar-width: none; position: sticky; top: 0; z-index: 50; }
        .date-btn { padding: 12px; text-align: center; color: #ccc; text-decoration: none; border-right: 1px solid #00447c; flex: 1; min-width: 90px; }
        .date-btn.active { background: #f90 !important; color: #002d56 !important; font-weight: 800; }
        
        .league-header { background: #1a202c; color: #fff; padding: 12px 16px; font-weight: 800; font-size: 11px; text-transform: uppercase; border-left: 4px solid #f90; }
        .match-row { border-bottom: 1px solid #edf2f7; background: #fff; text-decoration: none; transition: 0.2s; }
        .match-row:hover { background-color: #f8fafc; transform: translateX(4px); }
        .time-box { min-width: 75px; border-right: 1px solid #edf2f7; text-align: center; }
        
        .ad-container { min-height: 100px; clear: both; overflow: hidden; }
    </style>
</head>
<body class="bg-slate-100">
    <header class="bg-[#002d56] py-4 border-b-4 border-[#f90]">
        <div class="max-w-4xl mx-auto px-4">
            <a href="{{DOMAIN}}/" class="text-white text-2xl font-black italic tracking-tighter">CRICFOOT<span class="text-[#f90]">TV</span></a>
        </div>
    </header>

    <nav class="weekly-nav shadow-lg">
        <div class="max-w-4xl mx-auto flex w-full">
            {{WEEKLY_MENU}}
        </div>
    </nav>

    <div class="bg-white shadow-sm sticky top-[55px] z-40">
        <div class="max-w-4xl mx-auto p-4">
            <input type="text" id="matchSearch" placeholder="Search team or league..." class="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500 transition-all">
        </div>
        <div class="py-2 px-8 bg-slate-50 border-t border-b text-[11px] font-bold text-slate-500 uppercase tracking-widest">
            <div class="max-w-4xl mx-auto flex items-center">
                <span class="w-2 h-2 bg-orange-500 rounded-full mr-2"></span>
                Schedule for: <span class="text-slate-900 ml-1">{{SELECTED_DATE}}</span>
            </div>
        </div>
    </div>

    <main class="max-w-4xl mx-auto p-4 py-8">
        <div class="bg-white shadow-2xl rounded-lg overflow-hidden border border-slate-200">
            {{MATCH_LISTING}}
        </div>
    </main>

    <script>
        function convertLocalTimes() {
            document.querySelectorAll('.local-time').forEach(el => {
                const unix = el.getAttribute('data-unix');
                if (unix) {
                    const date = new Date(unix * 1000);
                    el.innerText = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false });
                }
            });
        }
        convertLocalTimes();

        document.getElementById('matchSearch').addEventListener('input', function(e) {
            let term = e.target.value.toLowerCase();
            document.querySelectorAll('.match-row').forEach(row => {
                row.style.display = row.textContent.toLowerCase().includes(term) ? 'flex' : 'none';
            });
            // Hide league headers and ADs if no matches visible
            document.querySelectorAll('.league-header, .ad-container').forEach(el => {
                let next = el.nextElementSibling;
                let visible = false;
                while(next && (next.classList.contains('match-row') || next.classList.contains('ad-container'))) {
                    if(next.classList.contains('match-row') && next.style.display !== 'none') { visible = true; break; }
                    next = next.nextElementSibling;
                }
                el.style.display = visible ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>
